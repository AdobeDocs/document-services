{"version":3,"file":"e1f27445-8668c83a5f9b83450c4e.js","mappings":"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","sources":["webpack://dev-site-product-template/./src/@adobe/gatsby-theme-aio/components/Layout/index.js"],"sourcesContent":["/*\r\n * Copyright 2020 Adobe. All rights reserved.\r\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License. You may obtain a copy\r\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software distributed under\r\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\r\n * OF ANY KIND, either express or implied. See the License for the specific language\r\n * governing permissions and limitations under the License.\r\n */\r\n\r\nimport React, { createElement, useEffect, useState } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { css, Global } from '@emotion/react';\r\nimport loadable from '@loadable/component';\r\nimport algoliaSearch from 'algoliasearch';\r\nimport { graphql, useStaticQuery, Link as GatsbyLink } from 'gatsby';\r\nimport Axios from 'axios';\r\nimport {\r\n  DESKTOP_SCREEN_WIDTH,\r\n  findSelectedPages,\r\n  findSubPages,\r\n  MOBILE_SCREEN_WIDTH,\r\n  normalizePagePath,\r\n  rootFix,\r\n  rootFixPages,\r\n  SEARCH_PARAMS,\r\n  SIDENAV_WIDTH,\r\n  trailingSlashFix,\r\n} from '@adobe/gatsby-theme-aio/src/utils';\r\nimport '@spectrum-css/vars/dist/spectrum-global.css';\r\nimport '@spectrum-css/vars/dist/spectrum-medium.css';\r\nimport '@spectrum-css/vars/dist/spectrum-large.css';\r\nimport '@spectrum-css/vars/dist/spectrum-light.css';\r\nimport '@spectrum-css/vars/dist/spectrum-dark.css';\r\nimport '@spectrum-css/vars/dist/spectrum-lightest.css';\r\nimport '@spectrum-css/vars/dist/spectrum-darkest.css';\r\nimport '@spectrum-css/sidenav';\r\nimport '@adobe/focus-ring-polyfill';\r\nimport { Provider } from '@adobe/gatsby-theme-aio/src/components/Context';\r\nimport { Search } from '@adobe/gatsby-theme-aio/src/components/Search';\r\nimport { SideNav } from '@adobe/gatsby-theme-aio/src/components/SideNav';\r\nimport { GlobalHeader } from '@adobe/gatsby-theme-aio/src/components/GlobalHeader';\r\nimport { SEO } from '../SEO';\r\nimport { ProgressCircle } from '@adobe/gatsby-theme-aio/src/components/ProgressCircle';\r\nimport nextId from 'react-id-generator';\r\n\r\n// GATSBY_ALGOLIA_APPLICATION_ID=...\r\n// GATSBY_ALGOLIA_SEARCH_API_KEY=...\r\n// GATSBY_ALGOLIA_SEARCH_INDEX=[{\"index\": \"index label\"}, {\"all\": \"All Results\"}]\r\n// GATSBY_ALGOLIA_INDEX_ALL=[\"index1\", \"index2\", ...]\r\nconst hasSearch = !!(\r\n  process.env.GATSBY_ALGOLIA_APPLICATION_ID && process.env.GATSBY_ALGOLIA_SEARCH_API_KEY\r\n);\r\n// GATSBY_ALGOLIA_INDEX_ENV_PREFIX=[prod | stage | *] this is the env prefix assigned to the index name during indexing\r\nconst algoliaIndexEnv = process.env.GATSBY_ALGOLIA_INDEX_ENV_PREFIX;\r\n\r\nlet algolia = null;\r\nif (hasSearch) {\r\n  algolia = algoliaSearch(\r\n    process.env.GATSBY_ALGOLIA_APPLICATION_ID,\r\n    process.env.GATSBY_ALGOLIA_SEARCH_API_KEY\r\n  );\r\n} else {\r\n  console.warn('AIO: Algolia config missing.');\r\n}\r\n\r\n// GATSBY_IMS_CONFIG={\"client_id\": \"...\",\"scope\": \"...\"}\r\n// GATSBY_IMS_SRC=https://.../imslib.js\r\nconst hasIMS = !!(process.env.GATSBY_IMS_SRC && process.env.GATSBY_IMS_CONFIG);\r\n\r\n// Page source can come from OpenAPI or Iframe\r\nconst pageSrc = {\r\n  openAPI: {\r\n    src: null,\r\n    block: null,\r\n    frontMatter: 'openAPISpec',\r\n  },\r\n  frame: {\r\n    src: null,\r\n    block: null,\r\n    frontMatter: 'frameSrc',\r\n  },\r\n};\r\n\r\nconst toggleSideNav = setShowSideNav => {\r\n  setShowSideNav(showSideNav => !showSideNav);\r\n};\r\n\r\nconst addScript = url =>\r\n  new Promise((resolve, reject) => {\r\n    const script = document.createElement('script');\r\n    script.src = url;\r\n    script.onload = val => resolve(val);\r\n    script.onerror = err => reject(err);\r\n    script.onabort = err => reject(err);\r\n\r\n    document.head.appendChild(script);\r\n  });\r\n\r\n  \r\n\r\nconst updatePageSrc = (type, frontMatter, setIsLoading) => {\r\n  const page = pageSrc[type];\r\n\r\n  page.has = frontMatter?.[page.frontMatter];\r\n  if (typeof page.has !== 'undefined' && page.src !== page.has) {\r\n    page.src = page.has;\r\n  }\r\n\r\n  if (page.src && !page.block) {\r\n    setIsLoading(true);\r\n    // Import statements have to be hardcoded\r\n    if (type === 'openAPI') {\r\n      page.block = loadable(() => import('@adobe/gatsby-theme-aio/src/components/OpenAPIBlock'));\r\n    } else if (type === 'frame') {\r\n      page.block = loadable(() => import('@adobe/gatsby-theme-aio/src/components/Frame'));\r\n    }\r\n\r\n    page.block.load().then(() => {\r\n      setIsLoading(false);\r\n    });\r\n  }\r\n};\r\n\r\n// Used to update the url in the browser\r\nconst setQueryStringParameter = (name, value) => {\r\n  const params = new URLSearchParams(window.location.search);\r\n  params.set(name, value);\r\n  window.history.replaceState({}, '', `${window.location.pathname}?${params}`);\r\n};\r\n\r\n/**\r\n * @returns The query string from the URL\r\n */\r\nexport const getQueryString = () => {\r\n  const params = new URLSearchParams(window.location.search);\r\n  return params.toString();\r\n};\r\n\r\nconst searchIFrameSource = () => {\r\n  /**\r\n   * Returns expected origin based on the host\r\n   * @param {*} host The host\r\n   * @param {*} suffix A suffix to append\r\n   * @returns The expected origin\r\n   */\r\n  const setExpectedOrigin = (host, suffix = '') => {\r\n    if (isDevEnvironment(host)) {\r\n      return `http://localhost:8000`;\r\n    } else if (isStageEnvironment(host)) {\r\n      return `https://developer-stage.adobe.com${suffix}`;\r\n    } else {\r\n      return `https://developer.adobe.com${suffix}`;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Checks whether the current URL is a dev environment based on host value\r\n   * @param {*} host The host\r\n   * @returns True if the current URL is a dev environment, false otherwise\r\n   */\r\n  function isDevEnvironment(host) {\r\n    return host.indexOf('localhost') >= 0;\r\n  }\r\n\r\n  /**\r\n   * Checks whether the current URL is a stage environment based on host value\r\n   * @param {*} host The host\r\n   * @returns True if the current URL is a stage environment, false otherwise\r\n   */\r\n  function isStageEnvironment(host) {\r\n    return host.indexOf('developer-stage') >= 0;\r\n  }\r\n\r\n  const src = isDevEnvironment(window.location.host)\r\n    ? setExpectedOrigin(window.location.host)\r\n    : `${setExpectedOrigin(window.location.host, '/search-frame')}`;\r\n  const queryString = new URLSearchParams(window.location.search);\r\n  return queryString && queryString.toString().length > 0\r\n    ? `${src}?${queryString.toString()}`\r\n    : src;\r\n};\r\n\r\nexport default ({ children, pageContext, location }) => {\r\n  const [ims, setIms] = useState(null);\r\n  const [isLoadingIms, setIsLoadingIms] = useState(true);\r\n  // [\"index1\", \"index2\", ...]\r\n  const [indexAll, setIndexAll] = useState(false);\r\n\r\n  // Load and initialize IMS\r\n  useEffect(() => {\r\n    const IMS_SRC = process.env.GATSBY_IMS_SRC;\r\n    const IMS_CONFIG = process.env.GATSBY_IMS_CONFIG;\r\n\r\n    if (IMS_SRC && IMS_CONFIG) {\r\n      (async () => {\r\n        try {\r\n          await addScript(`${IMS_SRC}`);\r\n          let IMS_CONFIG_JSON = JSON.parse(IMS_CONFIG);\r\n          IMS_CONFIG_JSON.onReady = () => {\r\n            setIms(window.adobeIMS);\r\n            setIsLoadingIms(false);\r\n          };\r\n          window.adobeImsFactory.createIMSLib(IMS_CONFIG_JSON);\r\n          window.adobeIMS.initialize();\r\n        } catch (e) {\r\n          console.error(`AIO: IMS error.`);\r\n        } finally {\r\n          setIsLoadingIms(false);\r\n        }\r\n      })();\r\n    } else {\r\n      console.warn('AIO: IMS config missing.');\r\n      setIsLoadingIms(false);\r\n    }\r\n  }, []);\r\n\r\n  // Load and initialize AEP\r\n  // ReactHelmet seems to load the script multiple times causing analytics errors\r\n  useEffect(() => {\r\n    const ADOBE_ANALYTICS_ENV = process.env.GATSBY_ADOBE_ANALYTICS_ENV;\r\n    if (ADOBE_ANALYTICS_ENV) {\r\n      (async () => {\r\n        try {\r\n\r\n\r\n          window.alloy_all = window.alloy_all || {};\r\n          window.alloy_all.data = window.alloy_all.data || {};\r\n          window.alloy_all.data._adobe_corpnew = window.alloy_all.data._adobe_corpnew || {};\r\n          window.alloy_all.data._adobe_corpnew.digitalData = window.alloy_all.data._adobe_corpnew.digitalData || {};\r\n          window.alloy_all.data._adobe_corpnew.digitalData.page = window.alloy_all.data._adobe_corpnew.digitalData.page || {};\r\n          window.alloy_all.data._adobe_corpnew.digitalData.page.pageInfo = window.alloy_all.data._adobe_corpnew.digitalData.page.pageInfo || {};\r\n          window.alloy_all.data._adobe_corpnew.digitalData.page.pageInfo.language = 'en-US';\r\n\r\n          var launchURL = 'https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.min.js';\r\n          var edgeConfigId = '57c20bab-94c3-425e-95cb-0b9948b1fdd4';\r\n\r\n          if (window.location.hostname === ('localhost') || window.location.hostname.includes('developer-dev') || window.location.hostname.includes('developer-stage')) {\r\n            edgeConfigId = 'a44f0037-2ada-441f-a012-243832ce5ff9';\r\n            launchURL = 'https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.min.js';\r\n          }\r\n\r\n          window.marketingtech = {\r\n            adobe: {\r\n              launch: {\r\n                url: launchURL,\r\n                controlPageLoad: true,\r\n              },\r\n              alloy: {\r\n                edgeConfigId: edgeConfigId,\r\n              },\r\n              target: false,\r\n              audienceManager: false,\r\n            }\r\n          };\r\n          await addScript(`https://www.adobe.com/marketingtech/main.standard.min.js`);\r\n        } catch (e) {\r\n          console.error(`AIO: Adobe Analytics Error`);\r\n        }\r\n      })();\r\n    } else {\r\n      console.warn('AIO: Adobe Analytics Missing env');\r\n    }\r\n  }, []);\r\n\r\n  // Load all data once and pass it to the Provider\r\n  const data = useStaticQuery(\r\n    graphql`\r\n      query {\r\n        allGithub {\r\n          nodes {\r\n            repository\r\n            default_branch\r\n            root\r\n          }\r\n        }\r\n        allGithubContributors {\r\n          nodes {\r\n            contributors {\r\n              date\r\n              login\r\n              name\r\n            }\r\n            path\r\n          }\r\n        }\r\n        allMdx {\r\n          nodes {\r\n            tableOfContents\r\n            fileAbsolutePath\r\n          }\r\n        }\r\n        allSitePage {\r\n          nodes {\r\n            component\r\n            path\r\n          }\r\n        }\r\n        site {\r\n          pathPrefix\r\n          siteMetadata {\r\n            home {\r\n              title\r\n              path\r\n              hidden\r\n            }\r\n            docs {\r\n              title\r\n              path\r\n            }\r\n            githubIssue{\r\n              removeLogIssue\r\n            }\r\n            versions {\r\n              title\r\n              path\r\n              selected\r\n            }\r\n            pages {\r\n              title\r\n              path\r\n              menu {\r\n                title\r\n                description\r\n                path\r\n              }\r\n            }\r\n            subPages {\r\n              title\r\n              path\r\n              header\r\n              pages {\r\n                title\r\n                path\r\n                pages {\r\n                  title\r\n                  path\r\n                  pages {\r\n                    title\r\n                    path\r\n                    pages {\r\n                      title\r\n                      path\r\n                      pages {\r\n                        title\r\n                        path\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    `\r\n  );\r\n\r\n  const { allMdx, allSitePage, site, allGithub, allGithubContributors } = data;\r\n  const { siteMetadata, pathPrefix } = site;\r\n  const { home, versions, pages, subPages, docs } = siteMetadata;\r\n\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  const [showSideNav, setShowSideNav] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadSearchFrame, setLoadSearchFrame] = useState(false);\r\n  const [hasSideNav, setHasSideNav] = useState(false);\r\n\r\n  // Show search if search param is set\r\n  useEffect(() => {\r\n    const searchParams = new URL(window.location).searchParams;\r\n    if (searchParams.get(SEARCH_PARAMS.query)) {\r\n      setShowSearch(true);\r\n    }\r\n  }, [setShowSearch]);\r\n\r\n  useEffect(() => {\r\n    if (window.innerWidth >= 1280) {\r\n      setShowSideNav(false);\r\n      setHasSideNav(false);\r\n    }\r\n  }, [location]);\r\n\r\n  useEffect(() => {\r\n    window.onpopstate = () => {\r\n      const searchParams = new URL(window.location).searchParams;\r\n      if (searchParams.get(SEARCH_PARAMS.query)) {\r\n        searchParams.get(SEARCH_PARAMS.query);\r\n        setShowSearch(true);\r\n      } else {\r\n        setShowSearch(false);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Unify all paths\r\n  location.pathname = trailingSlashFix(decodeURIComponent(location.pathname));\r\n\r\n  pages.forEach(page => {\r\n    normalizePagePath(page);\r\n\r\n    if (page.menu) {\r\n      page.menu.forEach(menu => {\r\n        normalizePagePath(menu);\r\n      });\r\n    }\r\n  });\r\n\r\n  if (versions) {\r\n    versions.forEach(version => {\r\n      normalizePagePath(version);\r\n    });\r\n  }\r\n\r\n  normalizePagePath(home);\r\n  normalizePagePath(docs);\r\n\r\n  const normalizeSubPages = page => {\r\n    normalizePagePath(page);\r\n\r\n    if (page.pages) {\r\n      page.pages.forEach(subPage => {\r\n        normalizeSubPages(subPage);\r\n      });\r\n    }\r\n  };\r\n\r\n  if (subPages) {\r\n    subPages.forEach(subPage => {\r\n      normalizeSubPages(subPage);\r\n    });\r\n  }\r\n\r\n  const pathWithRootFix = rootFix(location.pathname);\r\n  const pagesWithRootFix = rootFixPages(pages);\r\n  const sideNavSelectedPages = findSelectedPages(pathWithRootFix, subPages);\r\n  const sideNavSelectedSubPages = findSubPages(pathWithRootFix, pagesWithRootFix, subPages);\r\n  if (sideNavSelectedSubPages.length > 0) {\r\n    setHasSideNav(true);\r\n  }\r\n\r\n  const frontMatter = pageContext?.frontmatter;\r\n\r\n  const layoutId = nextId();\r\n  const sideNavId = nextId();\r\n  const searchButtonId = 'aio-Search-close';\r\n\r\n  // Update OpenAPI spec and Frame src\r\n  updatePageSrc('openAPI', frontMatter, setIsLoading);\r\n  updatePageSrc('frame', frontMatter, setIsLoading);\r\n\r\n  // Set Search indexAll\r\n  useEffect(() => {\r\n    if (hasSearch) {\r\n      Axios.get(\r\n        'https://raw.githubusercontent.com/AdobeDocs/search-indices/main/product-index-map.json'\r\n      )\r\n        .then(result => {\r\n          const productIndexMap = result.data;\r\n          if (typeof productIndexMap === 'string') {\r\n            setIndexAll(JSON.parse(productIndexMap));\r\n          } else if (Object.prototype.toString.call(productIndexMap) == '[object Array]') {\r\n            // https://stackoverflow.com/a/12996879/15028986\r\n            setIndexAll(productIndexMap);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.error(`AIO: Failed fetching search index.\\n${err}`);\r\n        });\r\n    }\r\n    if (window.innerWidth <= 1280) {\r\n      setHasSideNav(true);\r\n    }\r\n    window.addEventListener('resize', () => {\r\n      if (window.innerWidth <= 1280) {\r\n        setHasSideNav(true);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  if (pathPrefix === '/search-frame') {\r\n    return (\r\n      <>\r\n        <Helmet>\r\n          <noscript>{`\r\n          <style>\r\n            #${layoutId} {\r\n              grid-template-columns: 0 auto;\r\n            }\r\n            \r\n            #${sideNavId} {\r\n              display: none !important;\r\n            }\r\n            \r\n            .gatsby-resp-image-image {\r\n              opacity: 1 !important;\r\n            }\r\n          </style>\r\n        `}</noscript>\r\n        </Helmet>\r\n\r\n        <Global\r\n          styles={css`\r\n            @font-face {\r\n              font-family: 'adobe-clean';\r\n              src: url('https://use.typekit.net/af/cb695f/000000000000000000017701/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3')\r\n                  format('woff2'),\r\n                url('https://use.typekit.net/af/cb695f/000000000000000000017701/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3')\r\n                  format('woff'),\r\n                url('https://use.typekit.net/af/cb695f/000000000000000000017701/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3')\r\n                  format('opentype');\r\n              font-display: swap;\r\n              font-style: normal;\r\n              font-weight: 400;\r\n            }\r\n\r\n            @font-face {\r\n              font-family: 'adobe-clean';\r\n              src: url('https://use.typekit.net/af/74ffb1/000000000000000000017702/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3')\r\n                  format('woff2'),\r\n                url('https://use.typekit.net/af/74ffb1/000000000000000000017702/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3')\r\n                  format('woff'),\r\n                url('https://use.typekit.net/af/74ffb1/000000000000000000017702/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3')\r\n                  format('opentype');\r\n              font-display: swap;\r\n              font-style: italic;\r\n              font-weight: 400;\r\n            }\r\n\r\n            @font-face {\r\n              font-family: 'adobe-clean';\r\n              src: url('https://use.typekit.net/af/eaf09c/000000000000000000017703/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3')\r\n                  format('woff2'),\r\n                url('https://use.typekit.net/af/eaf09c/000000000000000000017703/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3')\r\n                  format('woff'),\r\n                url('https://use.typekit.net/af/eaf09c/000000000000000000017703/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3')\r\n                  format('opentype');\r\n              font-display: swap;\r\n              font-style: normal;\r\n              font-weight: 700;\r\n\r\n            }\r\n\r\n            @font-face {\r\n              font-family: 'adobe-clean';\r\n              src: url('https://use.typekit.net/af/40207f/0000000000000000000176ff/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3')\r\n                  format('woff2'),\r\n                url('https://use.typekit.net/af/40207f/0000000000000000000176ff/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3')\r\n                  format('woff'),\r\n                url('https://use.typekit.net/af/40207f/0000000000000000000176ff/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3')\r\n                  format('opentype');\r\n              font-display: swap;\r\n              font-style: normal;\r\n              font-weight: 300;\r\n            }\r\n\r\n            @font-face {\r\n              font-family: 'adobe-clean-serif';\r\n              src: url('https://use.typekit.net/af/505d17/00000000000000003b9aee44/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3')\r\n                  format('woff2'),\r\n                url('https://use.typekit.net/af/505d17/00000000000000003b9aee44/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3')\r\n                  format('woff'),\r\n                url('https://use.typekit.net/af/505d17/00000000000000003b9aee44/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3')\r\n                  format('opentype');\r\n              font-display: swap;\r\n              font-style: normal;\r\n              font-weight: 900;\r\n            }\r\n\r\n            html,\r\n            body {\r\n              margin: 0;\r\n              text-size-adjust: none;\r\n              overscroll-behavior: auto contain;\r\n              -webkit-font-smoothing: antialiased;\r\n              -moz-osx-font-smoothing: grayscale;\r\n              background-color: transparent;\r\n\r\n              ${showSearch && 'overflow: hidden;'}\r\n            }\r\n\r\n            *[hidden] {\r\n              display: none !important;\r\n            }\r\n          `}\r\n        />\r\n        <div\r\n          dir=\"ltr\"\r\n          className=\"spectrum spectrum--medium spectrum--large spectrum--light\"\r\n          color-scheme=\"light\"\r\n          css={css`\r\n            min-height: 100vh;\r\n            background-color: transparent;\r\n          `}>\r\n          {hasSearch && indexAll && (\r\n            <Search\r\n              algolia={algolia}\r\n              indexAll={indexAll}\r\n              indexPrefix={algoliaIndexEnv ? algoliaIndexEnv : ''}\r\n              showSearch={true}\r\n              setShowSearch={setShowSearch}\r\n              searchButtonId={searchButtonId}\r\n              isIFramed\r\n            />\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  let searchPathNameCheck = '';\r\n\r\n  const searchFrameOnLoad = (counter = 0, loaded) => {\r\n    const renderedFrame = document.getElementById('searchIframe');\r\n\r\n    renderedFrame.contentWindow.postMessage(\r\n      JSON.stringify({ localPathName: window.location.pathname }),\r\n      '*'\r\n    );\r\n    if (window.location.pathname !== '/') {\r\n      if (searchPathNameCheck !== window.location.pathname) {\r\n        // attempt to establish connection for 3 seconds then time out\r\n        if (counter > 30) {\r\n          // eslint-disable-next-line no-console\r\n          console.warn('Loading Search iFrame timed out');\r\n          return;\r\n        }\r\n        window.setTimeout(() => {\r\n          searchFrameOnLoad(renderedFrame, counter + 1, loaded);\r\n        }, 100);\r\n      }\r\n    }\r\n    // Past this point we successfully passed the local pathname\r\n    // and received a confirmation from the iframe\r\n    if (!loaded) {\r\n      const searchParams = new URL(window.location).searchParams;\r\n      if (searchParams.get(SEARCH_PARAMS.query)) {\r\n        setShowSearch(true);\r\n      }\r\n    }\r\n\r\n    loaded = true;\r\n  };\r\n\r\n  // Referenced https://stackoverflow.com/a/10444444/15028986\r\n  const checkIframeLoaded = () => {\r\n    const renderedFrame = document.getElementById('searchIframe');\r\n    // Get a handle to the iframe element\r\n    let iframeDoc;\r\n    try {\r\n      iframeDoc = renderedFrame.contentDocument;\r\n      // Check if loading is complete\r\n      if (iframeDoc.readyState === 'complete') {\r\n        renderedFrame.onload = () => {\r\n          searchFrameOnLoad();\r\n        };\r\n        // The loading is complete, call the function we want executed once the iframe is loaded\r\n        return;\r\n      }\r\n    } catch (error) {\r\n      window.setTimeout(checkIframeLoaded, 100);\r\n    }\r\n  };\r\n\r\n  const onMessageReceivedFromIframe = evt => {\r\n    // const expectedOrigin = setExpectedOrigin(window.location.host);\r\n    // if (evt.origin !== expectedOrigin) return;\r\n    try {\r\n      const message = typeof evt.data === 'string' ? JSON.parse(evt.data) : evt.data;\r\n      if (message.query) {\r\n        setQueryStringParameter(SEARCH_PARAMS.query, message.query);\r\n        setQueryStringParameter(SEARCH_PARAMS.keywords, message.keywords);\r\n        setQueryStringParameter(SEARCH_PARAMS.index, message.index);\r\n      } else if (message.received) {\r\n        searchPathNameCheck = message.received;\r\n      }\r\n    } catch (e) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('message', onMessageReceivedFromIframe);\r\n    if (hasSearch) {\r\n      setLoadSearchFrame(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    checkIframeLoaded();\r\n  }, [loadSearchFrame]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <noscript>{`\r\n          <style>\r\n            #${layoutId} {\r\n              grid-template-columns: 0 auto;\r\n            }\r\n            \r\n            #${sideNavId} {\r\n              display: none !important;\r\n            }\r\n            \r\n            .gatsby-resp-image-image {\r\n              opacity: 1 !important;\r\n            }\r\n          </style>\r\n        `}</noscript>\r\n      </Helmet>\r\n\r\n      <Global\r\n        styles={css`\r\n          @font-face {\r\n            font-family: 'adobe-clean';\r\n            src: url('https://use.typekit.net/af/cb695f/000000000000000000017701/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3')\r\n                format('woff2'),\r\n              url('https://use.typekit.net/af/cb695f/000000000000000000017701/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3')\r\n                format('woff'),\r\n              url('https://use.typekit.net/af/cb695f/000000000000000000017701/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4&v=3')\r\n                format('opentype');\r\n            font-display: swap;\r\n            font-style: normal;\r\n            font-weight: 400;\r\n          }\r\n\r\n          @font-face {\r\n            font-family: 'adobe-clean';\r\n            src: url('https://use.typekit.net/af/74ffb1/000000000000000000017702/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3')\r\n                format('woff2'),\r\n              url('https://use.typekit.net/af/74ffb1/000000000000000000017702/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3')\r\n                format('woff'),\r\n              url('https://use.typekit.net/af/74ffb1/000000000000000000017702/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4&v=3')\r\n                format('opentype');\r\n            font-display: swap;\r\n            font-style: italic;\r\n            font-weight: 400;\r\n          }\r\n\r\n          @font-face {\r\n            font-family: 'adobe-clean';\r\n            src: url('https://use.typekit.net/af/eaf09c/000000000000000000017703/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3')\r\n                format('woff2'),\r\n              url('https://use.typekit.net/af/eaf09c/000000000000000000017703/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3')\r\n                format('woff'),\r\n              url('https://use.typekit.net/af/eaf09c/000000000000000000017703/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7&v=3')\r\n                format('opentype');\r\n            font-display: swap;\r\n            font-style: normal;\r\n            font-weight: 700;\r\n          }\r\n\r\n          @font-face {\r\n            font-family: 'adobe-clean';\r\n            src: url('https://use.typekit.net/af/40207f/0000000000000000000176ff/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3')\r\n                format('woff2'),\r\n              url('https://use.typekit.net/af/40207f/0000000000000000000176ff/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3')\r\n                format('woff'),\r\n              url('https://use.typekit.net/af/40207f/0000000000000000000176ff/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3&v=3')\r\n                format('opentype');\r\n            font-display: swap;\r\n            font-style: normal;\r\n            font-weight: 300;\r\n          }\r\n\r\n          @font-face {\r\n            font-family: 'adobe-clean-serif';\r\n            src: url('https://use.typekit.net/af/505d17/00000000000000003b9aee44/27/l?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3')\r\n                format('woff2'),\r\n              url('https://use.typekit.net/af/505d17/00000000000000003b9aee44/27/d?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3')\r\n                format('woff'),\r\n              url('https://use.typekit.net/af/505d17/00000000000000003b9aee44/27/a?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n9&v=3')\r\n                format('opentype');\r\n            font-display: swap;\r\n            font-style: normal;\r\n            font-weight: 900;\r\n          }\r\n\r\n          html,\r\n          body {\r\n            margin: 0;\r\n            text-size-adjust: none;\r\n            overscroll-behavior: auto contain;\r\n            -webkit-font-smoothing: antialiased;\r\n            -moz-osx-font-smoothing: grayscale;\r\n\r\n            ${showSearch && 'overflow: hidden;'}\r\n            ${showSideNav && 'overflow: hidden;'}\r\n          }\r\n\r\n          *[hidden] {\r\n            display: none !important;\r\n          }\r\n        `}\r\n      />\r\n      <Provider\r\n        value={{\r\n          ims,\r\n          isLoadingIms,\r\n          location,\r\n          pageContext,\r\n          hasSideNav,\r\n          siteMetadata,\r\n          pathPrefix,\r\n          allSitePage,\r\n          allMdx,\r\n          allGithub,\r\n          allGithubContributors,\r\n        }}>\r\n        <SEO\r\n          title={frontMatter?.title}\r\n          description={frontMatter?.description}\r\n          keywords={frontMatter?.keywords}\r\n          ogImage={frontMatter?.ogImage}\r\n        />\r\n        <div\r\n          dir=\"ltr\"\r\n          className=\"spectrum spectrum--medium spectrum--large spectrum--light\"\r\n          color-scheme=\"light\"\r\n          css={css`\r\n            min-height: 100vh;\r\n            background-color: var(--spectrum-global-color-gray-50);\r\n          `}>\r\n          <>\r\n            <div\r\n              id={layoutId}\r\n              css={css`\r\n                display: grid;\r\n                grid-template-areas: 'header header' 'sidenav main';\r\n                grid-template-rows: var(--spectrum-global-dimension-size-800);\r\n                grid-template-columns: ${hasSideNav ? `${SIDENAV_WIDTH} auto` : '0 auto'};\r\n\r\n                @media screen and (max-width: ${DESKTOP_SCREEN_WIDTH}) {\r\n                  grid-template-columns: 0 auto;\r\n                }\r\n\r\n                @media screen and (max-width: ${MOBILE_SCREEN_WIDTH}) {\r\n                  grid-template-rows: 20px;\r\n                }\r\n              `}>\r\n              <div\r\n                css={css`\r\n                  grid-area: header;\r\n                  position: fixed;\r\n                  height: var(--spectrum-global-dimension-size-800);\r\n                  left: 0;\r\n                  right: 0;\r\n                  background-color: var(--spectrum-global-color-gray-50);\r\n                  z-index: 2;\r\n\r\n                  @media screen and (max-width: ${MOBILE_SCREEN_WIDTH}) {\r\n                    height: var(--spectrum-global-dimension-size-600);\r\n                  }\r\n                `}>\r\n                <GlobalHeader\r\n                  hasIMS={hasIMS}\r\n                  ims={ims}\r\n                  isLoadingIms={isLoadingIms}\r\n                  home={home}\r\n                  versions={versions}\r\n                  pages={pages}\r\n                  docs={docs}\r\n                  location={location}\r\n                  hasSideNav={hasSideNav}\r\n                  toggleSideNav={() => {\r\n                    toggleSideNav(setShowSideNav);\r\n                  }}\r\n                  hasSearch={hasSearch && indexAll !== null}\r\n                  showSearch={showSearch}\r\n                  setShowSearch={setShowSearch}\r\n                  searchButtonId={searchButtonId}\r\n                />\r\n              </div>\r\n              {hasSearch && loadSearchFrame && (\r\n                <iframe\r\n                  id=\"searchIframe\"\r\n                  src={searchIFrameSource()}\r\n                  tabIndex=\"0\"\r\n                  css={css`\r\n                    position: fixed;\r\n                    top: var(--spectrum-global-dimension-size-800);\r\n                    left: 0px;\r\n                    right: 0px;\r\n                    bottom: 0px;\r\n                    background-color: transparent;\r\n                    z-index: 10;\r\n                    width: 100%;\r\n                    height: 100%;\r\n                    display: ${showSearch ? 'block' : 'none'};\r\n\r\n                    @media screen and (max-width: ${MOBILE_SCREEN_WIDTH}) {\r\n                      top: var(--spectrum-global-dimension-size-600);\r\n                    }\r\n\r\n                  `}></iframe>\r\n              )}\r\n\r\n              <div\r\n                id={sideNavId}\r\n                hidden={!hasSideNav}\r\n                css={css`\r\n                  grid-area: sidenav;\r\n                  position: fixed;\r\n                  z-index: 1;\r\n                  width: ${SIDENAV_WIDTH};\r\n                  height: 100%;\r\n                  background-color: var(--spectrum-global-color-gray-75);\r\n\r\n                  @media screen and (max-width: ${DESKTOP_SCREEN_WIDTH}) {\r\n                    transition: transform var(--spectrum-global-animation-duration-200) ease-in-out;\r\n                    transform: translateX(${showSideNav ? '0' : '-100%'});\r\n                  }\r\n\r\n                  @media screen and (max-width: ${MOBILE_SCREEN_WIDTH}) {\r\n                    width: 95%;\r\n                  }\r\n                `}>\r\n                <SideNav\r\n                  mainNavPages={pages}\r\n                  versions={versions}\r\n                  location={location}\r\n                  selectedPages={sideNavSelectedPages}\r\n                  selectedSubPages={sideNavSelectedSubPages}\r\n                  setShowSideNav={setShowSideNav}\r\n                />\r\n              </div>\r\n              <div\r\n                css={css`\r\n                  grid-area: main;\r\n                `}>\r\n                <main hidden={!pageSrc['openAPI'].has}>\r\n                  {pageSrc['openAPI'].src &&\r\n                    pageSrc['openAPI'].block &&\r\n                    createElement(pageSrc['openAPI'].block, { src: pageSrc['openAPI'].src })}\r\n                </main>\r\n\r\n                <main hidden={!pageSrc['frame'].has}>\r\n                  {pageSrc['frame'].src &&\r\n                    pageSrc['frame'].block &&\r\n                    createElement(pageSrc['frame'].block, {\r\n                      src: pageSrc['frame'].src,\r\n                      height: frontMatter?.frameHeight,\r\n                      location,\r\n                    })}\r\n                </main>\r\n\r\n                {!pageSrc['openAPI'].has && !pageSrc['frame'].has && children}\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              css={css`\r\n                position: fixed;\r\n                top: 0;\r\n                left: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                display: ${isLoading ? 'grid' : 'none'};\r\n                place-items: center center;\r\n              `}>\r\n              <ProgressCircle size=\"L\" />\r\n            </div>\r\n\r\n            {hasSideNav && (\r\n              <div\r\n                role=\"presentation\"\r\n                css={css`\r\n                  display: none;\r\n\r\n                  @media screen and (max-width: ${DESKTOP_SCREEN_WIDTH}) {\r\n                    display: block;\r\n                    transition: opacity 160ms ease-in;\r\n                    background-color: rgba(0, 0, 0, 0.4);\r\n                    pointer-events: none;\r\n                    opacity: 0;\r\n                    position: fixed;\r\n                    top: 0;\r\n                    left: 0;\r\n                    height: 100%;\r\n                    width: 100%;\r\n\r\n                    ${showSideNav &&\r\n                  `\r\n                    pointer-events: auto;\r\n                    opacity: 1;\r\n                  `}\r\n                  }\r\n                `}\r\n                onClick={() => {\r\n                  toggleSideNav(setShowSideNav);\r\n                }}\r\n              />\r\n            )}\r\n          </>\r\n        </div>\r\n      </Provider>\r\n    </>\r\n  );\r\n};\r\n"],"names":["hasSearch","process","GATSBY_ALGOLIA_APPLICATION_ID","GATSBY_ALGOLIA_SEARCH_API_KEY","algoliaIndexEnv","GATSBY_ALGOLIA_INDEX_ENV_PREFIX","algolia","algoliaSearch","console","warn","hasIMS","GATSBY_IMS_SRC","GATSBY_IMS_CONFIG","pageSrc","openAPI","src","block","frontMatter","frame","toggleSideNav","setShowSideNav","showSideNav","addScript","url","Promise","resolve","reject","script","document","createElement","onload","val","onerror","err","onabort","head","appendChild","updatePageSrc","type","setIsLoading","page","has","loadable","load","then","setQueryStringParameter","name","value","params","URLSearchParams","window","location","search","set","history","replaceState","pathname","getQueryString","toString","searchIFrameSource","setExpectedOrigin","host","suffix","isDevEnvironment","indexOf","isStageEnvironment","queryString","length","_ref","styles","_ref2","_ref3","_ref4","children","pageContext","_useState","useState","ims","setIms","_useState2","isLoadingIms","setIsLoadingIms","_useState3","indexAll","setIndexAll","useEffect","IMS_SRC","IMS_CONFIG","_asyncToGenerator","_regeneratorRuntime","_callee","IMS_CONFIG_JSON","_context","prev","next","JSON","parse","onReady","adobeIMS","adobeImsFactory","createIMSLib","initialize","t0","error","finish","stop","GATSBY_ADOBE_ANALYTICS_ENV","_callee2","launchURL","edgeConfigId","_context2","alloy_all","data","_adobe_corpnew","digitalData","pageInfo","language","hostname","includes","marketingtech","adobe","launch","controlPageLoad","alloy","target","audienceManager","useStaticQuery","allMdx","allSitePage","site","allGithub","allGithubContributors","siteMetadata","pathPrefix","home","versions","pages","subPages","docs","_useState4","showSearch","setShowSearch","_useState5","_useState6","isLoading","_useState7","loadSearchFrame","setLoadSearchFrame","_useState8","hasSideNav","setHasSideNav","URL","searchParams","get","SEARCH_PARAMS","innerWidth","onpopstate","trailingSlashFix","decodeURIComponent","forEach","normalizePagePath","menu","version","normalizeSubPages","subPage","pathWithRootFix","rootFix","pagesWithRootFix","rootFixPages","sideNavSelectedPages","findSelectedPages","sideNavSelectedSubPages","findSubPages","frontmatter","layoutId","nextId","sideNavId","searchButtonId","Axios","result","productIndexMap","Object","prototype","call","catch","addEventListener","___EmotionJSX","React","Helmet","Global","css","dir","className","Search","indexPrefix","isIFramed","searchPathNameCheck","searchFrameOnLoad","counter","loaded","renderedFrame","getElementById","contentWindow","postMessage","stringify","localPathName","setTimeout","checkIframeLoaded","contentDocument","readyState","onMessageReceivedFromIframe","evt","message","query","keywords","index","received","e","Provider","SEO","title","description","ogImage","id","SIDENAV_WIDTH","DESKTOP_SCREEN_WIDTH","MOBILE_SCREEN_WIDTH","GlobalHeader","tabIndex","hidden","SideNav","mainNavPages","selectedPages","selectedSubPages","height","frameHeight","ProgressCircle","size","role","onClick"],"sourceRoot":""}